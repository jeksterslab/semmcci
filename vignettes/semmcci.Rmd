---
title: "semmcci: Monte Carlo Confidence Intervals in Structural Equation Modeling"
author: "Ivan Jacob Agaloos Pesigan"
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    toc: true
vignette: >
  %\VignetteIndexEntry{semmcci: Monte Carlo Confidence Intervals in Structural Equation Modeling}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r}
#| include = FALSE
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

<!-- badges: start -->
[![CRAN Status](https://www.r-pkg.org/badges/version/semmcci)](https://cran.r-project.org/package=semmcci)
[![R-Universe Status](https://jeksterslab.r-universe.dev/badges/semmcci)](https://jeksterslab.r-universe.dev)
[![R-CMD-check](https://github.com/jeksterslab/semmcci/workflows/R-CMD-check/badge.svg)](https://github.com/jeksterslab/semmcci/actions)
[![test-coverage](https://github.com/jeksterslab/semmcci/actions/workflows/test-coverage.yaml/badge.svg)](https://github.com/jeksterslab/semmcci/actions/workflows/test-coverage.yaml)
[![codecov](https://codecov.io/gh/jeksterslab/semmcci/branch/main/graph/badge.svg?token=KVLUET3DJ6)](https://codecov.io/gh/jeksterslab/semmcci)
<!-- badges: end -->

## Installation

You can install the CRAN release of `semmcci` with:

```r
install.packages("semmcci")
```

You can install the development version of `semmcci` from
[GitHub](https://github.com/jeksterslab/semmcci) with:

```r
if (!require("remotes")) install.packages("remotes")
remotes::install_github("jeksterslab/semmcci")
```

## The Monte Carlo Method

In the Monte Carlo method,
a sampling distribution of parameter estimates $\hat{\boldsymbol{\theta}}^{\ast}$ is generated
from the multivariate normal distribution
using the parameter estimates $\hat{\boldsymbol{\theta}}$
and the sampling variance-covariance matrix $\mathrm{Var} \left( \hat{\boldsymbol{\theta}} \right)$.

\begin{equation}
    \hat{\boldsymbol{\theta}}^{\ast}
    \sim
    \mathcal{N}
    \left(
    \hat{\boldsymbol{\theta}},
    \mathrm{Var}
    \left(
    \hat{\boldsymbol{\theta}}
    \right)
    \right)
\end{equation}

Confidence intervals for defined parameters $g \left( \hat{\boldsymbol{\theta}} \right)$ are generated
by obtaining percentiles corresponding to $100(1 - \alpha)\%$
from the generated sampling distribution,
where $\alpha$ is the significance level.

## semmcci

Monte Carlo confidence intervals for free and defined parameters
in models fitted in the structural equation modeling package `lavaan`
can be generated using the `semmcci` package.
The package has two main functions, namely, `MC()` and `MCStd()`.
The output of `lavaan` is passed as the first argument
to the `MC()` function to generate Monte Carlo confidence intervals.
Monte Carlo confidence intervals for the standardized estimates
can also be generated by passing the output of the `MC()` function
to the `MCStd()` function.

## References

MacKinnon, D. P., Lockwood, C. M., & Williams, J. (2004).
Confidence limits for the indirect effect:
Distribution of the product and resampling methods.
*Multivariate Behavioral Research*, *39*(1), 99–128.
https://doi.org/10.1207/s15327906mbr3901_4

Preacher, K. J., & Selig, J. P. (2012).
Advantages of Monte Carlo confidence intervals for indirect effects.
*Communication Methods and Measures*, *6*(2), 77–98.
https://doi.org/10.1080/19312458.2012.679848

Tofighi, D., & Kelley, K. (2019).
Indirect effects in sequential mediation models:
Evaluating methods for hypothesis testing and confidence interval formation.
*Multivariate Behavioral Research*, *55*(2), 188–210.
https://doi.org/10.1080/00273171.2019.1618545

Tofighi, D., & MacKinnon, D. P. (2015).
Monte Carlo confidence intervals for complex functions of indirect effects.
*Structural Equation Modeling: A Multidisciplinary Journal*, *23*(2), 194–205.
https://doi.org/10.1080/10705511.2015.1057284
