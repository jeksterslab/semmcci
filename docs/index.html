<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Monte Carlo confidence intervals for free and defined parameters
    in models fitted in the structural equation modeling package lavaan
    can be generated using the semmcci package.
    semmcci has two main functions, namely, MC() and MCStd().
    The output of lavaan is passed as the first argument
    to the MC() function to generate Monte Carlo confidence intervals.
    Monte Carlo confidence intervals for the standardized estimates
    can also be generated by passing the output of the MC() function
    to the MCStd() function.">
<title>Monte Carlo Confidence Intervals in Structural Equation Modeling • semmcci</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Monte Carlo Confidence Intervals in Structural Equation Modeling">
<meta property="og:description" content="Monte Carlo confidence intervals for free and defined parameters
    in models fitted in the structural equation modeling package lavaan
    can be generated using the semmcci package.
    semmcci has two main functions, namely, MC() and MCStd().
    The output of lavaan is passed as the first argument
    to the MC() function to generate Monte Carlo confidence intervals.
    Monte Carlo confidence intervals for the standardized estimates
    can also be generated by passing the output of the MC() function
    to the MCStd() function.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">semmcci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="articles/example-1-simple.html">Example 1: The Simple Mediation Model</a>
    <a class="dropdown-item" href="articles/example-2-serial.html">Example 2: The Serial Mediation Model</a>
    <a class="dropdown-item" href="articles/example-3-latent.html">Example 3: The Latent Variable Simple Mediation Model</a>
    <a class="dropdown-item" href="articles/example-4-simple-miss.html">Example 4: The Simple Mediation Model with Missing Data</a>
    <a class="dropdown-item" href="articles/example-5-regression.html">Example 5: Standardized Regression Coefficients</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Benchmark</h6>
    <a class="dropdown-item" href="articles/benchmark.html">Benchmark: Comparing the Monte Carlo Method with Nonparametric Bootstrapping</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="https://github.com/jeksterslab/semmcci/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="semmcci">semmcci<a class="anchor" aria-label="anchor" href="#semmcci"></a>
</h1></div>
<p>Ivan Jacob Agaloos Pesigan 2022-09-10</p>
<!-- README.md is generated from README.Rmd. Please edit that file -->
<!-- badges: start -->

<div class="section level2">
<h2 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h2>
<p>Monte Carlo confidence intervals for free and defined parameters in models fitted in the structural equation modeling package <code>lavaan</code> can be generated using the <code>semmcci</code> package. The package has two main functions, namely, <code><a href="reference/MC.html">MC()</a></code> and <code><a href="reference/MCStd.html">MCStd()</a></code>. The output of <code>lavaan</code> is passed as the first argument to the <code><a href="reference/MC.html">MC()</a></code> function to generate Monte Carlo confidence intervals. Monte Carlo confidence intervals for the standardized estimates can also be generated by passing the output of the <code><a href="reference/MC.html">MC()</a></code> function to the <code><a href="reference/MCStd.html">MCStd()</a></code> function.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of <code>semmcci</code> from <a href="https://github.com/jeksterslab/semmcci">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jeksterslab/semmcci"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="more-information">More Information<a class="anchor" aria-label="anchor" href="#more-information"></a>
</h2>
<p>See <a href="https://jeksterslab.github.io/semmcci/index.html" class="external-link">GitHub Pages</a> for package documentation.</p>
</div>
<div class="section level2">
<h2 id="the-monte-carlo-method">The Monte Carlo Method<a class="anchor" aria-label="anchor" href="#the-monte-carlo-method"></a>
</h2>
<p>In the Monte Carlo method, a sampling distribution of parameter estimates is generated from the multivariate normal distribution using the parameter estimates and the sampling variance-covariance matrix. Confidence intervals for defined parameters are generated by obtaining percentiles corresponding to 100(1 - α)% from the generated sampling distribution, where α is the significance level.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>A common application of the Monte Carlo method is to generate confidence intervals for the indirect effect. In the simple mediation model, variable <code>X</code> has an effect on variable <code>Y</code>, through a mediating variable <code>M</code>. This mediating or indirect effect is a product of path coefficients from the fitted model.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jeksterslab/semmcci">semmcci</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fl">0.50</span> <span class="op">*</span> <span class="va">X</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fl">0.25</span> <span class="op">*</span> <span class="va">X</span> <span class="op">+</span> <span class="fl">0.50</span> <span class="op">*</span> <span class="va">M</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">M</span>, <span class="va">Y</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="model-specification">Model Specification<a class="anchor" aria-label="anchor" href="#model-specification"></a>
</h3>
<p>The indirect effect is defined by the product of the slopes of paths <code>X</code> to <code>M</code> labeled as <code>a</code> and <code>M</code> to <code>Y</code> labeled as <code>b</code>. In this example, we are interested in the confidence intervals of <code>indirect</code> defined as the product of <code>a</code> and <code>b</code> using the <code>:=</code> operator in the <code>lavaan</code> model syntax.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  Y ~ cp * X + b * M</span></span>
<span><span class="st">  M ~ a * X</span></span>
<span><span class="st">  indirect := a * b</span></span>
<span><span class="st">  direct := cp</span></span>
<span><span class="st">  total := cp + (a * b)</span></span>
<span><span class="st">"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="model-fitting">Model Fitting<a class="anchor" aria-label="anchor" href="#model-fitting"></a>
</h3>
<p>We can now fit the model using the <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem()</a></code> function from <code>lavaan</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, model <span class="op">=</span> <span class="va">model</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="monte-carlo-confidence-intervals">Monte Carlo Confidence Intervals<a class="anchor" aria-label="anchor" href="#monte-carlo-confidence-intervals"></a>
</h3>
<p>The <code>fit</code> <code>lavaan</code> object can then be passed to the <code><a href="reference/MC.html">MC()</a></code> function to generate Monte Carlo confidence intervals.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/MC.html">MC</a></span><span class="op">(</span><span class="va">fit</span>, R <span class="op">=</span> <span class="fl">20000L</span>, alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Monte Carlo Confidence Intervals</span></span>
<span><span class="co">#&gt;             est     se     R  0.05%   0.5%   2.5%  97.5%  99.5% 99.95%</span></span>
<span><span class="co">#&gt; cp       0.2732 0.0362 20000 0.1611 0.1826 0.2032 0.3437 0.3663 0.3896</span></span>
<span><span class="co">#&gt; b        0.5084 0.0327 20000 0.4055 0.4259 0.4453 0.5728 0.5927 0.6131</span></span>
<span><span class="co">#&gt; a        0.4604 0.0320 20000 0.3571 0.3785 0.3985 0.5232 0.5433 0.5685</span></span>
<span><span class="co">#&gt; Y~~Y     1.0483 0.0469 20000 0.8965 0.9281 0.9555 1.1403 1.1674 1.1934</span></span>
<span><span class="co">#&gt; M~~M     0.9804 0.0436 20000 0.8290 0.8676 0.8939 1.0655 1.0900 1.1211</span></span>
<span><span class="co">#&gt; indirect 0.2341 0.0221 20000 0.1659 0.1807 0.1927 0.2788 0.2926 0.3087</span></span>
<span><span class="co">#&gt; direct   0.2732 0.0362 20000 0.1611 0.1826 0.2032 0.3437 0.3663 0.3896</span></span>
<span><span class="co">#&gt; total    0.5073 0.0367 20000 0.3909 0.4140 0.4353 0.5797 0.6028 0.6287</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="standardized-monte-carlo-confidence-intervals">Standardized Monte Carlo Confidence Intervals<a class="anchor" aria-label="anchor" href="#standardized-monte-carlo-confidence-intervals"></a>
</h3>
<p>Standardized Monte Carlo Confidence intervals can be generated by passing the result of the <code><a href="reference/MC.html">MC()</a></code> function to <code><a href="reference/MCStd.html">MCStd()</a></code>.</p>
<blockquote>
<p><strong>Note:</strong> We recommend setting <code>fixed.x = FALSE</code> when generating standardized estimates and confidence intervals to model the variances and covariances of the predictors if they are assumed to be random.</p>
</blockquote>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, model <span class="op">=</span> <span class="va">model</span>, fixed.x <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">unstd</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/MC.html">MC</a></span><span class="op">(</span><span class="va">fit</span>, R <span class="op">=</span> <span class="fl">20000L</span>, alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/MCStd.html">MCStd</a></span><span class="op">(</span><span class="va">unstd</span><span class="op">)</span></span>
<span><span class="co">#&gt; Standardized Monte Carlo Confidence Intervals</span></span>
<span><span class="co">#&gt;             est     se     R  0.05%   0.5%   2.5%  97.5%  99.5% 99.95%</span></span>
<span><span class="co">#&gt; cp       0.2157 0.0285 20000 0.1223 0.1414 0.1591 0.2718 0.2878 0.3031</span></span>
<span><span class="co">#&gt; b        0.4445 0.0264 20000 0.3573 0.3753 0.3917 0.4956 0.5113 0.5325</span></span>
<span><span class="co">#&gt; a        0.4157 0.0261 20000 0.3268 0.3472 0.3641 0.4657 0.4813 0.4981</span></span>
<span><span class="co">#&gt; Y~~Y     0.6762 0.0246 20000 0.5919 0.6120 0.6265 0.7233 0.7375 0.7522</span></span>
<span><span class="co">#&gt; M~~M     0.8272 0.0217 20000 0.7519 0.7684 0.7831 0.8674 0.8794 0.8932</span></span>
<span><span class="co">#&gt; X~~X     1.0000 0.0000 20000 1.0000 1.0000 1.0000 1.0000 1.0000 1.0000</span></span>
<span><span class="co">#&gt; indirect 0.1848 0.0163 20000 0.1353 0.1441 0.1532 0.2175 0.2289 0.2414</span></span>
<span><span class="co">#&gt; direct   0.2157 0.0285 20000 0.1223 0.1414 0.1591 0.2718 0.2878 0.3031</span></span>
<span><span class="co">#&gt; total    0.4005 0.0268 20000 0.3110 0.3305 0.3473 0.4521 0.4670 0.4822</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jeksterslab/semmcci/">Browse source code</a></li>
<li><a href="https://github.com/jeksterslab/semmcci/issues">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing semmcci</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ivan Jacob Agaloos Pesigan <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-4818-8420" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jeksterslab/semmcci/actions"><img src="https://github.com/jeksterslab/semmcci/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/jeksterslab/semmcci/actions/workflows/test-coverage.yaml"><img src="https://github.com/jeksterslab/semmcci/actions/workflows/test-coverage.yaml/badge.svg" alt="test-coverage"></a></li>
<li><a href="https://codecov.io/gh/jeksterslab/semmcci" class="external-link"><img src="https://codecov.io/gh/jeksterslab/semmcci/branch/main/graph/badge.svg?token=KVLUET3DJ6" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ivan Jacob Agaloos Pesigan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
