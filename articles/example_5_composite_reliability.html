<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="semmcci">
<title>Example 5: Composite Reliability â€¢ semmcci</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.6/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.6/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Example 5: Composite Reliability">
<meta property="og:description" content="semmcci">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">semmcci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/semmcci.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="https://github.com/jeksterslab/semmcci/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Example 5: Composite Reliability</h1>
                        <h4 data-toc-skip class="author">Ivan Jacob
Agaloos Pesigan</h4>
            
            <h4 data-toc-skip class="date">2023-07-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jeksterslab/semmcci/blob/HEAD/vignettes/example_5_composite_reliability.Rmd"><code>vignettes/example_5_composite_reliability.Rmd</code></a></small>
      <div class="d-none name"><code>example_5_composite_reliability.Rmd</code></div>
    </div>

    
    
<p>To cite <code>semmcci</code> in publications, please use:</p>
<p>Pesigan, I. J. A., &amp; Cheung, S. F. (2023). Monte Carlo confidence
intervals for the indirect effect with missing data. <em>Behavior
Research Methods</em>. <a href="https://doi.org/10.3758/s13428-023-02114-4" class="external-link uri">https://doi.org/10.3758/s13428-023-02114-4</a></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jeksterslab/semmcci">semmcci</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></code></pre></div>
<p>In this example, the Monte Carlo method is used to generate
confidence intervals for composite reliability using the Holzinger and
Swineford (1939) data set.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">HolzingerSwineford1939</span>, package <span class="op">=</span> <span class="st">"lavaan"</span><span class="op">)</span></span></code></pre></div>
<p>The confirmatory factor analysis model for <span class="math inline">\(X_{1}, \dots, X_{9}\)</span> is given by</p>
<div class="figure">
<img src="https://raw.githubusercontent.com/jeksterslab/semmcci/main/latexsrc/figures/png/cfa.png" alt=""><p class="caption">Three-Factor Confirmatory Factor Analysis Model</p>
</div>
<p><span class="math inline">\(\eta_{1}\)</span>, <span class="math inline">\(\eta_{2}\)</span>, and <span class="math inline">\(\eta_{3}\)</span> are the latent factors. <span class="math inline">\(\eta_{1}\)</span> has three indicators <span class="math inline">\(X_{1}\)</span>, <span class="math inline">\(X_{2}\)</span>, and <span class="math inline">\(X_{3}\)</span>; <span class="math inline">\(\eta_{2}\)</span> has three indicators <span class="math inline">\(X_{4}\)</span>, <span class="math inline">\(X_{5}\)</span>, and <span class="math inline">\(X_{6}\)</span>; and <span class="math inline">\(\eta_{3}\)</span> has three indicators <span class="math inline">\(X_{7}\)</span>, <span class="math inline">\(X_{8}\)</span>, and <span class="math inline">\(X_{9}\)</span> . The variances of <span class="math inline">\(\eta_{1}\)</span>, <span class="math inline">\(\eta_{2}\)</span>, and <span class="math inline">\(\eta_{3}\)</span> are constrained to one.</p>
<div class="section level2">
<h2 id="model-specification">Model Specification<a class="anchor" aria-label="anchor" href="#model-specification"></a>
</h2>
<p>Assuming that the latent variable variance is constrained to one, the
omega total reliability coefficient is given by</p>
<p><span class="math display">\[\begin{equation}
  \omega_{\mathrm{total}}
  =
  \frac{
  \left(
  \sum_{i = 1}^{k}
  \lambda_{i}
  \right)^2
  }{
  \left(
  \sum_{i = 1}^{k}
  \lambda_{i}
  \right)^2
  +
  \sum_{i = 1}^{k}
  \theta_{\varepsilon_{ii}}
  }
\end{equation}\]</span></p>
<p>where <span class="math inline">\(\lambda_{i}\)</span> is the factor
loading for item <span class="math inline">\(i\)</span>, <span class="math inline">\(\theta_{\varepsilon_{ii}}\)</span> is the residual
variance for item <span class="math inline">\(i\)</span>, and <span class="math inline">\(k\)</span> is the number of items for a particular
latent variable.</p>
<p>In the model specification below, the variances of the latent
variables <code>eta1</code>, <code>eta2</code>, and <code>eta3</code>
are constrained to one, all the relevant parameters are labeled
particularly the factor loadings and the error variances, and the omega
total reliability coefficient per latent variable are defined using the
<code>:=</code> operator.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  # fix latent variable variances to 1</span></span>
<span><span class="st">  eta1 ~~ 1 * eta1</span></span>
<span><span class="st">  eta2 ~~ 1 * eta2</span></span>
<span><span class="st">  eta3 ~~ 1 * eta3</span></span>
<span><span class="st">  # factor loadings</span></span>
<span><span class="st">  eta1 =~ NA * x1 + l11 * x1 + l12 * x2 + l13 * x3</span></span>
<span><span class="st">  eta2 =~ NA * x4 + l24 * x4 + l25 * x5 + l26 * x6</span></span>
<span><span class="st">  eta3 =~ NA * x7 + l37 * x7 + l38 * x8 + l39 * x9</span></span>
<span><span class="st">  # error variances</span></span>
<span><span class="st">  x1 ~~ t1 * x1</span></span>
<span><span class="st">  x2 ~~ t2 * x2</span></span>
<span><span class="st">  x3 ~~ t3 * x3</span></span>
<span><span class="st">  x4 ~~ t4 * x4</span></span>
<span><span class="st">  x5 ~~ t5 * x5</span></span>
<span><span class="st">  x6 ~~ t6 * x6</span></span>
<span><span class="st">  x7 ~~ t7 * x7</span></span>
<span><span class="st">  x8 ~~ t8 * x8</span></span>
<span><span class="st">  x9 ~~ t9 * x9</span></span>
<span><span class="st">  # composite reliability</span></span>
<span><span class="st">  omega1 := (l11 + l12 + l13)^2 / ((l11 + l12 + l13)^2 + (t1 + t2 + t3))</span></span>
<span><span class="st">  omega2 := (l24 + l25 + l26)^2 / ((l24 + l25 + l26)^2 + (t4 + t5 + t6))</span></span>
<span><span class="st">  omega3 := (l37 + l38 + l39)^2 / ((l37 + l38 + l39)^2 + (t7 + t8 + t9))</span></span>
<span><span class="st">"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="model-fitting">Model Fitting<a class="anchor" aria-label="anchor" href="#model-fitting"></a>
</h2>
<p>We can now fit the model using the <code><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa()</a></code> function from
<code>lavaan</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model</span>, data <span class="op">=</span> <span class="va">HolzingerSwineford1939</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="monte-carlo-confidence-intervals">Monte Carlo Confidence Intervals<a class="anchor" aria-label="anchor" href="#monte-carlo-confidence-intervals"></a>
</h3>
<p>The <code>fit</code> <code>lavaan</code> object can then be passed to
the <code><a href="../reference/MC.html">MC()</a></code> function to generate Monte Carlo confidence
intervals.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/MC.html">MC</a></span><span class="op">(</span><span class="va">fit</span>, R <span class="op">=</span> <span class="fl">20000L</span>, alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="co">#&gt; Monte Carlo Confidence Intervals</span></span>
<span><span class="co">#&gt;               est     se     R   2.5%  97.5%</span></span>
<span><span class="co">#&gt; eta1~~eta1 1.0000 0.0000 20000 1.0000 1.0000</span></span>
<span><span class="co">#&gt; eta2~~eta2 1.0000 0.0000 20000 1.0000 1.0000</span></span>
<span><span class="co">#&gt; eta3~~eta3 1.0000 0.0000 20000 1.0000 1.0000</span></span>
<span><span class="co">#&gt; l11        0.8996 0.0808 20000 0.7428 1.0577</span></span>
<span><span class="co">#&gt; l12        0.4979 0.0775 20000 0.3477 0.6495</span></span>
<span><span class="co">#&gt; l13        0.6562 0.0747 20000 0.5113 0.8046</span></span>
<span><span class="co">#&gt; l24        0.9897 0.0567 20000 0.8775 1.1008</span></span>
<span><span class="co">#&gt; l25        1.1016 0.0627 20000 0.9781 1.2224</span></span>
<span><span class="co">#&gt; l26        0.9166 0.0534 20000 0.8114 1.0217</span></span>
<span><span class="co">#&gt; l37        0.6195 0.0691 20000 0.4839 0.7554</span></span>
<span><span class="co">#&gt; l38        0.7309 0.0654 20000 0.6033 0.8597</span></span>
<span><span class="co">#&gt; l39        0.6700 0.0649 20000 0.5439 0.7961</span></span>
<span><span class="co">#&gt; t1         0.5491 0.1138 20000 0.3273 0.7716</span></span>
<span><span class="co">#&gt; t2         1.1338 0.1014 20000 0.9350 1.3340</span></span>
<span><span class="co">#&gt; t3         0.8443 0.0905 20000 0.6679 1.0205</span></span>
<span><span class="co">#&gt; t4         0.3712 0.0481 20000 0.2769 0.4657</span></span>
<span><span class="co">#&gt; t5         0.4463 0.0586 20000 0.3297 0.5610</span></span>
<span><span class="co">#&gt; t6         0.3562 0.0429 20000 0.2708 0.4392</span></span>
<span><span class="co">#&gt; t7         0.7994 0.0816 20000 0.6365 0.9581</span></span>
<span><span class="co">#&gt; t8         0.4877 0.0739 20000 0.3440 0.6328</span></span>
<span><span class="co">#&gt; t9         0.5661 0.0708 20000 0.4268 0.7043</span></span>
<span><span class="co">#&gt; eta1~~eta2 0.4585 0.0638 20000 0.3331 0.5849</span></span>
<span><span class="co">#&gt; eta1~~eta3 0.4705 0.0732 20000 0.3274 0.6128</span></span>
<span><span class="co">#&gt; eta2~~eta3 0.2830 0.0687 20000 0.1479 0.4196</span></span>
<span><span class="co">#&gt; omega1     0.6253 0.0367 20000 0.5483 0.6914</span></span>
<span><span class="co">#&gt; omega2     0.8852 0.0116 20000 0.8602 0.9060</span></span>
<span><span class="co">#&gt; omega3     0.6878 0.0310 20000 0.6229 0.7429</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ivan Jacob Agaloos Pesigan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
