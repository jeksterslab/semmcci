<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="semmcci">
<title>Benchmark: Comparing the Monte Carlo Method with Nonparametric Bootstrapping (MI) â€¢ semmcci</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.7/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.7/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Benchmark: Comparing the Monte Carlo Method with Nonparametric Bootstrapping (MI)">
<meta property="og:description" content="semmcci">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">semmcci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/semmcci.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="https://github.com/jeksterslab/semmcci/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Benchmark: Comparing the Monte Carlo Method with Nonparametric Bootstrapping (MI)</h1>
                        <h4 data-toc-skip class="author">Ivan Jacob
Agaloos Pesigan</h4>
            
            <h4 data-toc-skip class="date">2023-08-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jeksterslab/semmcci/blob/HEAD/vignettes/benchmark-mi.Rmd"><code>vignettes/benchmark-mi.Rmd</code></a></small>
      <div class="d-none name"><code>benchmark-mi.Rmd</code></div>
    </div>

    
    
<!-- vignettes/benchmark-mi.Rmd is generated from .setup/vignettes/benchmark-mi.Rmd.orig. Please edit that file -->
<p>We compare the Monte Carlo (MC) method with nonparametric
bootstrapping (NB) using the simple mediation model with missing data
using multiple imputation. One advantage of MC over NB is speed. This is
because the model is only fitted once in MC whereas it is fitted many
times in NB.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jeksterslab/semmcci">semmcci</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gking.harvard.edu/amelia" class="external-link">Amelia</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/joshuaulrich/microbenchmark/" class="external-link">microbenchmark</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fl">0.50</span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fl">0.50</span></span>
<span><span class="va">cp</span> <span class="op">&lt;-</span> <span class="fl">0.25</span></span>
<span><span class="va">s2_em</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">a</span><span class="op">^</span><span class="fl">2</span></span>
<span><span class="va">s2_ey</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">cp</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="va">a</span><span class="op">^</span><span class="fl">2</span> <span class="op">*</span> <span class="va">b</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="va">b</span><span class="op">^</span><span class="fl">2</span> <span class="op">*</span> <span class="va">s2_em</span> <span class="op">-</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">cp</span> <span class="op">*</span> <span class="va">a</span> <span class="op">*</span> <span class="va">b</span></span>
<span><span class="va">em</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">s2_em</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ey</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">s2_ey</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span><span class="op">)</span></span>
<span><span class="va">M</span> <span class="op">&lt;-</span> <span class="va">a</span> <span class="op">*</span> <span class="va">X</span> <span class="op">+</span> <span class="va">em</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">cp</span> <span class="op">*</span> <span class="va">X</span> <span class="op">+</span> <span class="va">b</span> <span class="op">*</span> <span class="va">M</span> <span class="op">+</span> <span class="va">ey</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">M</span>, <span class="va">Y</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data set with missing values.</span></span>
<span></span>
<span><span class="va">miss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">300</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">[</span><span class="va">miss</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span>, <span class="st">"X"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">df</span><span class="op">[</span><span class="va">miss</span><span class="op">[</span><span class="fl">101</span><span class="op">:</span><span class="fl">200</span><span class="op">]</span>, <span class="st">"M"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">df</span><span class="op">[</span><span class="va">miss</span><span class="op">[</span><span class="fl">201</span><span class="op">:</span><span class="fl">300</span><span class="op">]</span>, <span class="st">"Y"</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="multiple-imputation">Multiple Imputation<a class="anchor" aria-label="anchor" href="#multiple-imputation"></a>
</h2>
<p>Perform the appropriate multiple imputation approach to deal with
missing values. In this example, we impute multivariate missing data
under the normal model.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Amelia/man/amelia.html" class="external-link">amelia</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">df</span>,</span>
<span>  m <span class="op">=</span> <span class="fl">5L</span>,</span>
<span>  p2s <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="model-specification">Model Specification<a class="anchor" aria-label="anchor" href="#model-specification"></a>
</h2>
<p>The indirect effect is defined by the product of the slopes of paths
<code>X</code> to <code>M</code> labeled as <code>a</code> and
<code>M</code> to <code>Y</code> labeled as <code>b</code>. In this
example, we are interested in the confidence intervals of
<code>indirect</code> defined as the product of <code>a</code> and
<code>b</code> using the <code>:=</code> operator in the
<code>lavaan</code> model syntax.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  Y ~ cp * X + b * M</span></span>
<span><span class="st">  M ~ a * X</span></span>
<span><span class="st">  X ~~ X</span></span>
<span><span class="st">  indirect := a * b</span></span>
<span><span class="st">  direct := cp</span></span>
<span><span class="st">  total := cp + (a * b)</span></span>
<span><span class="st">"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="model-fitting">Model Fitting<a class="anchor" aria-label="anchor" href="#model-fitting"></a>
</h2>
<p>We can now fit the model using the <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem()</a></code> function from
<code>lavaan</code>. We do not need to deal with missing values in this
stage.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df</span>, model <span class="op">=</span> <span class="va">model</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="monte-carlo-confidence-intervals-multiple-imputation">Monte Carlo Confidence Intervals (Multiple Imputation)<a class="anchor" aria-label="anchor" href="#monte-carlo-confidence-intervals-multiple-imputation"></a>
</h2>
<p>The <code>fit</code> <code>lavaan</code> object and <code>mi</code>
<code>mids</code> object can then be passed to the <code><a href="../reference/MCMI.html">MCMI()</a></code>
function from <code>semmcci</code> to generate Monte Carlo confidence
intervals using multiple imputation as described in Pesigan and Cheung
(2023).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/MCMI.html">MCMI</a></span><span class="op">(</span><span class="va">fit</span>, R <span class="op">=</span> <span class="fl">100L</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, mi <span class="op">=</span> <span class="va">mi</span><span class="op">)</span></span>
<span><span class="co">#&gt; Monte Carlo Confidence Intervals (Multiple Imputation Estimates)</span></span>
<span><span class="co">#&gt;             est     se   R   2.5%  97.5%</span></span>
<span><span class="co">#&gt; cp       0.2274 0.0329 100 0.1672 0.2838</span></span>
<span><span class="co">#&gt; b        0.5192 0.0353 100 0.4508 0.5820</span></span>
<span><span class="co">#&gt; a        0.4790 0.0342 100 0.4044 0.5379</span></span>
<span><span class="co">#&gt; X~~X     1.0613 0.0550 100 0.9516 1.1523</span></span>
<span><span class="co">#&gt; Y~~Y     0.5439 0.0275 100 0.4942 0.5973</span></span>
<span><span class="co">#&gt; M~~M     0.7642 0.0403 100 0.6862 0.8308</span></span>
<span><span class="co">#&gt; indirect 0.2486 0.0244 100 0.2016 0.2979</span></span>
<span><span class="co">#&gt; direct   0.2274 0.0329 100 0.1672 0.2838</span></span>
<span><span class="co">#&gt; total    0.4760 0.0309 100 0.4136 0.5272</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="nonparametric-bootstrap-confidence-intervals-multiple-imputation">Nonparametric Bootstrap Confidence Intervals (Multiple
Imputation)<a class="anchor" aria-label="anchor" href="#nonparametric-bootstrap-confidence-intervals-multiple-imputation"></a>
</h2>
<p>Nonparametric bootstrap confidence intervals can be generated in
<code>bmemLavaan</code> using the following.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span></span>
<span>  <span class="fu">bmemLavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/bmemLavaan/man/bmem.html" class="external-link">bmem</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df</span>, model <span class="op">=</span> <span class="va">model</span>, method <span class="op">=</span> <span class="st">"mi"</span>, boot <span class="op">=</span> <span class="fl">100L</span>, m <span class="op">=</span> <span class="fl">5L</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Estimate method:                          multiple imputation</span></span>
<span><span class="co">#&gt; Sample size:                              1000      </span></span>
<span><span class="co">#&gt; Number of request bootstrap draws:        100       </span></span>
<span><span class="co">#&gt; Number of successful bootstrap draws:     100       </span></span>
<span><span class="co">#&gt; Type of confidence interval:              perc</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Values of statistics:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                      Value      SE      2.5%     97.5%</span></span>
<span><span class="co">#&gt;   chisq               0.000    0.000    0.000    0.000   </span></span>
<span><span class="co">#&gt;   GFI                 1.000    0.000    1.000    1.000   </span></span>
<span><span class="co">#&gt;   AGFI                1.000    0.000    1.000    1.000   </span></span>
<span><span class="co">#&gt;   RMSEA               0.000    0.000    0.000    0.000   </span></span>
<span><span class="co">#&gt;   NFI                 1.000    0.000    1.000    1.000   </span></span>
<span><span class="co">#&gt;   NNFI                1.000    0.000    1.000    1.000   </span></span>
<span><span class="co">#&gt;   CFI                 1.000    0.000    1.000    1.000   </span></span>
<span><span class="co">#&gt;   BIC                 7752.814 91.874   7560.065 7924.517</span></span>
<span><span class="co">#&gt;   SRMR                0.000    0.000    0.000    0.000   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Estimation of parameters:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                      Estimate   SE      2.5%     97.5%</span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;   Y ~</span></span>
<span><span class="co">#&gt;     X        (cp)     0.227    0.032    0.181    0.292</span></span>
<span><span class="co">#&gt;     M         (b)     0.519    0.032    0.447    0.570</span></span>
<span><span class="co">#&gt;   M ~</span></span>
<span><span class="co">#&gt;     X         (a)     0.472    0.033    0.416    0.537</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;     X                 1.064    0.059    0.945    1.197</span></span>
<span><span class="co">#&gt;     Y                 0.549    0.028    0.499    0.600</span></span>
<span><span class="co">#&gt;     M                 0.767    0.038    0.686    0.819</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Defined parameters:</span></span>
<span><span class="co">#&gt;     a*b    (indr)     0.245    0.023    0.202    0.289</span></span>
<span><span class="co">#&gt;     cp     (drct)     0.227    0.032    0.181    0.292</span></span>
<span><span class="co">#&gt;     cp+(*) (totl)     0.472    0.029    0.418    0.532</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="benchmark">Benchmark<a class="anchor" aria-label="anchor" href="#benchmark"></a>
</h2>
<div class="section level3">
<h3 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th align="left">Variables</th>
<th align="left">Values</th>
<th align="left">Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">R</td>
<td align="left">100</td>
<td align="left">Number of Monte Carlo replications.</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="left">100</td>
<td align="left">Number of bootstrap samples.</td>
</tr>
<tr class="odd">
<td align="left">m</td>
<td align="left">5</td>
<td align="left">Number of imputations.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="benchmark-1">Benchmark<a class="anchor" aria-label="anchor" href="#benchmark-1"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">benchmark_mi_01</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  MC <span class="op">=</span> <span class="op">{</span></span>
<span>    <span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span></span>
<span>      data <span class="op">=</span> <span class="va">df</span>,</span>
<span>      model <span class="op">=</span> <span class="va">model</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="va">mi</span> <span class="op">&lt;-</span> <span class="fu">Amelia</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Amelia/man/amelia.html" class="external-link">amelia</a></span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">df</span>,</span>
<span>      m <span class="op">=</span> <span class="va">m</span>,</span>
<span>      p2s <span class="op">=</span> <span class="fl">0</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/MCMI.html">MCMI</a></span><span class="op">(</span></span>
<span>      <span class="va">fit</span>,</span>
<span>      R <span class="op">=</span> <span class="va">R</span>,</span>
<span>      decomposition <span class="op">=</span> <span class="st">"chol"</span>,</span>
<span>      pd <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      mi <span class="op">=</span> <span class="va">mi</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  NB <span class="op">=</span> <span class="fu">bmemLavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/bmemLavaan/man/bmem.html" class="external-link">bmem</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">df</span>,</span>
<span>    model <span class="op">=</span> <span class="va">model</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"mi"</span>,</span>
<span>    boot <span class="op">=</span> <span class="va">B</span>,</span>
<span>    m <span class="op">=</span> <span class="va">m</span></span>
<span>  <span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="summary-of-benchmark-results">Summary of Benchmark Results<a class="anchor" aria-label="anchor" href="#summary-of-benchmark-results"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">benchmark_mi_01</span>, unit <span class="op">=</span> <span class="st">"ms"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   expr        min         lq       mean     median        uq        max neval</span></span>
<span><span class="co">#&gt; 1   MC   317.3602   327.5924   352.3541   343.4167   364.834   430.2245    10</span></span>
<span><span class="co">#&gt; 2   NB 31043.3211 31512.5953 32876.9971 33277.0986 34066.552 34576.3482    10</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="summary-of-benchmark-results-relative-to-the-faster-method">Summary of Benchmark Results Relative to the Faster Method<a class="anchor" aria-label="anchor" href="#summary-of-benchmark-results-relative-to-the-faster-method"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">benchmark_mi_01</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   expr      min       lq    mean   median       uq      max neval</span></span>
<span><span class="co">#&gt; 1   MC  1.00000  1.00000  1.0000  1.00000  1.00000  1.00000    10</span></span>
<span><span class="co">#&gt; 2   NB 97.81731 96.19452 93.3067 96.90007 93.37549 80.36815    10</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="plot">Plot<a class="anchor" aria-label="anchor" href="#plot"></a>
</h2>
<p><img src="fig-vignettes-benchmark-unnamed-chunk-17-1.png" width="3300"></p>
</div>
<div class="section level2">
<h2 id="benchmark---monte-carlo-method-with-precalculated-estimates-and-multiple-imputation">Benchmark - Monte Carlo Method with Precalculated Estimates and
Multiple Imputation<a class="anchor" aria-label="anchor" href="#benchmark---monte-carlo-method-with-precalculated-estimates-and-multiple-imputation"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">df</span>,</span>
<span>  model <span class="op">=</span> <span class="va">model</span></span>
<span><span class="op">)</span></span>
<span><span class="va">mi</span> <span class="op">&lt;-</span> <span class="fu">Amelia</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/Amelia/man/amelia.html" class="external-link">amelia</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">df</span>,</span>
<span>  m <span class="op">=</span> <span class="va">m</span>,</span>
<span>  p2s <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span><span class="va">benchmark_mi_02</span> <span class="op">&lt;-</span> <span class="fu">microbenchmark</span><span class="op">(</span></span>
<span>  MC <span class="op">=</span> <span class="fu"><a href="../reference/MCMI.html">MCMI</a></span><span class="op">(</span></span>
<span>    <span class="va">fit</span>,</span>
<span>    R <span class="op">=</span> <span class="va">R</span>,</span>
<span>    decomposition <span class="op">=</span> <span class="st">"chol"</span>,</span>
<span>    pd <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    mi <span class="op">=</span> <span class="va">mi</span></span>
<span>  <span class="op">)</span>,</span>
<span>  NB <span class="op">=</span> <span class="fu">bmemLavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/bmemLavaan/man/bmem.html" class="external-link">bmem</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="va">df</span>,</span>
<span>    model <span class="op">=</span> <span class="va">model</span>,</span>
<span>    method <span class="op">=</span> <span class="st">"mi"</span>,</span>
<span>    boot <span class="op">=</span> <span class="va">B</span>,</span>
<span>    m <span class="op">=</span> <span class="va">m</span></span>
<span>  <span class="op">)</span>,</span>
<span>  times <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="summary-of-benchmark-results-1">Summary of Benchmark Results<a class="anchor" aria-label="anchor" href="#summary-of-benchmark-results-1"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">benchmark_mi_02</span>, unit <span class="op">=</span> <span class="st">"ms"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   expr        min         lq       mean     median         uq       max neval</span></span>
<span><span class="co">#&gt; 1   MC   202.9943   209.4742   216.0433   214.5286   221.6025   231.799    10</span></span>
<span><span class="co">#&gt; 2   NB 30928.2706 31100.5700 32027.4528 31421.3913 31934.9672 35390.344    10</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="summary-of-benchmark-results-relative-to-the-faster-method-1">Summary of Benchmark Results Relative to the Faster Method<a class="anchor" aria-label="anchor" href="#summary-of-benchmark-results-relative-to-the-faster-method-1"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">benchmark_mi_02</span>, unit <span class="op">=</span> <span class="st">"relative"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   expr      min       lq     mean   median       uq      max neval</span></span>
<span><span class="co">#&gt; 1   MC   1.0000   1.0000   1.0000   1.0000   1.0000   1.0000    10</span></span>
<span><span class="co">#&gt; 2   NB 152.3603 148.4697 148.2455 146.4671 144.1092 152.6769    10</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="plot-1">Plot<a class="anchor" aria-label="anchor" href="#plot-1"></a>
</h2>
<p><img src="fig-vignettes-benchmark-unnamed-chunk-22-1.png" width="3300"></p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-Pesigan-Cheung-2023" class="csl-entry">
Pesigan, I. J. A., &amp; Cheung, S. F. (2023). <span>Monte Carlo</span>
confidence intervals for the indirect effect with missing data.
<em>Behavior Research Methods</em>. <a href="https://doi.org/10.3758/s13428-023-02114-4" class="external-link">https://doi.org/10.3758/s13428-023-02114-4</a>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ivan Jacob Agaloos Pesigan.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
