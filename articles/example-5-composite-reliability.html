<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Example 5: Composite Reliability • semmcci</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Example 5: Composite Reliability">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">semmcci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/semmcci.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/jeksterslab/semmcci/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Example 5: Composite Reliability</h1>
                        <h4 data-toc-skip class="author">Ivan Jacob
Agaloos Pesigan</h4>
            
            <h4 data-toc-skip class="date">2025-01-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jeksterslab/semmcci/blob/main/vignettes/example-5-composite-reliability.Rmd"><code>vignettes/example-5-composite-reliability.Rmd</code></a></small>
      <div class="d-none name"><code>example-5-composite-reliability.Rmd</code></div>
    </div>

    
    
<!-- vignettes/example-5-composite-reliability.Rmd is generated from .setup/vignettes/example-5-composite-reliability.Rmd.orig. Please edit that file -->
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jeksterslab/semmcci">semmcci</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span></code></pre></div>
<p>In this example, the Monte Carlo method is used to generate
confidence intervals for composite reliability using the Holzinger and
Swineford (1939) data set.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">HolzingerSwineford1939</span>, package <span class="op">=</span> <span class="st">"lavaan"</span><span class="op">)</span></span></code></pre></div>
<p>The confirmatory factor analysis model for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo>,</mo><mi>…</mi><mo>,</mo><msub><mi>X</mi><mn>9</mn></msub></mrow><annotation encoding="application/x-tex">X_{1}, \dots, X_{9}</annotation></semantics></math>
is given by</p>
<div class="float">
<img src="https://raw.githubusercontent.com/jeksterslab/semmcci/main/.setup/latex/figures/png/cfa.png" alt="Three-Factor Confirmatory Factor Analysis Model"><div class="figcaption">Three-Factor Confirmatory Factor Analysis
Model</div>
</div>
<p><math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\eta_{1}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>2</mn></msub><annotation encoding="application/x-tex">\eta_{2}</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>3</mn></msub><annotation encoding="application/x-tex">\eta_{3}</annotation></semantics></math>
are the latent factors.
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\eta_{1}</annotation></semantics></math>
has three indicators
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>1</mn></msub><annotation encoding="application/x-tex">X_{1}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>2</mn></msub><annotation encoding="application/x-tex">X_{2}</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>3</mn></msub><annotation encoding="application/x-tex">X_{3}</annotation></semantics></math>;
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>2</mn></msub><annotation encoding="application/x-tex">\eta_{2}</annotation></semantics></math>
has three indicators
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>4</mn></msub><annotation encoding="application/x-tex">X_{4}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>5</mn></msub><annotation encoding="application/x-tex">X_{5}</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>6</mn></msub><annotation encoding="application/x-tex">X_{6}</annotation></semantics></math>;
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>3</mn></msub><annotation encoding="application/x-tex">\eta_{3}</annotation></semantics></math>
has three indicators
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>7</mn></msub><annotation encoding="application/x-tex">X_{7}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>8</mn></msub><annotation encoding="application/x-tex">X_{8}</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>X</mi><mn>9</mn></msub><annotation encoding="application/x-tex">X_{9}</annotation></semantics></math>
. The variances of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\eta_{1}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>2</mn></msub><annotation encoding="application/x-tex">\eta_{2}</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>η</mi><mn>3</mn></msub><annotation encoding="application/x-tex">\eta_{3}</annotation></semantics></math>
are constrained to one.</p>
<div class="section level2">
<h2 id="model-specification">Model Specification<a class="anchor" aria-label="anchor" href="#model-specification"></a>
</h2>
<p>Assuming that the latent variable variance is constrained to one, the
omega total reliability coefficient is given by</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mrow><mi mathvariant="normal">t</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">l</mi></mrow></msub><mo>=</mo><mfrac><msup><mrow><mo stretchy="true" form="prefix">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><msub><mi>λ</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mrow><msup><mrow><mo stretchy="true" form="prefix">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><msub><mi>λ</mi><mi>i</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><msub><mi>θ</mi><msub><mi>ε</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">
  \omega_{\mathrm{total}}
  =
  \frac{
  \left(
  \sum_{i = 1}^{k}
  \lambda_{i}
  \right)^2
  }{
  \left(
  \sum_{i = 1}^{k}
  \lambda_{i}
  \right)^2
  +
  \sum_{i = 1}^{k}
  \theta_{\varepsilon_{ii}}
  }
</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>λ</mi><mi>i</mi></msub><annotation encoding="application/x-tex">\lambda_{i}</annotation></semantics></math>
is the factor loading for item
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>θ</mi><msub><mi>ε</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub></msub><annotation encoding="application/x-tex">\theta_{\varepsilon_{ii}}</annotation></semantics></math>
is the residual variance for item
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>i</mi><annotation encoding="application/x-tex">i</annotation></semantics></math>,
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>k</mi><annotation encoding="application/x-tex">k</annotation></semantics></math>
is the number of items for a particular latent variable.</p>
<p>In the model specification below, the variances of the latent
variables <code>eta1</code>, <code>eta2</code>, and <code>eta3</code>
are constrained to one, all the relevant parameters are labeled
particularly the factor loadings and the error variances, and the omega
total reliability coefficient per latent variable are defined using the
<code>:=</code> operator.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  # fix latent variable variances to 1</span></span>
<span><span class="st">  eta1 ~~ 1 * eta1</span></span>
<span><span class="st">  eta2 ~~ 1 * eta2</span></span>
<span><span class="st">  eta3 ~~ 1 * eta3</span></span>
<span><span class="st">  # factor loadings</span></span>
<span><span class="st">  eta1 =~ NA * x1 + l11 * x1 + l12 * x2 + l13 * x3</span></span>
<span><span class="st">  eta2 =~ NA * x4 + l24 * x4 + l25 * x5 + l26 * x6</span></span>
<span><span class="st">  eta3 =~ NA * x7 + l37 * x7 + l38 * x8 + l39 * x9</span></span>
<span><span class="st">  # error variances</span></span>
<span><span class="st">  x1 ~~ t1 * x1</span></span>
<span><span class="st">  x2 ~~ t2 * x2</span></span>
<span><span class="st">  x3 ~~ t3 * x3</span></span>
<span><span class="st">  x4 ~~ t4 * x4</span></span>
<span><span class="st">  x5 ~~ t5 * x5</span></span>
<span><span class="st">  x6 ~~ t6 * x6</span></span>
<span><span class="st">  x7 ~~ t7 * x7</span></span>
<span><span class="st">  x8 ~~ t8 * x8</span></span>
<span><span class="st">  x9 ~~ t9 * x9</span></span>
<span><span class="st">  # composite reliability</span></span>
<span><span class="st">  omega1 := (l11 + l12 + l13)^2 / ((l11 + l12 + l13)^2 + (t1 + t2 + t3))</span></span>
<span><span class="st">  omega2 := (l24 + l25 + l26)^2 / ((l24 + l25 + l26)^2 + (t4 + t5 + t6))</span></span>
<span><span class="st">  omega3 := (l37 + l38 + l39)^2 / ((l37 + l38 + l39)^2 + (t7 + t8 + t9))</span></span>
<span><span class="st">"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="model-fitting">Model Fitting<a class="anchor" aria-label="anchor" href="#model-fitting"></a>
</h2>
<p>We can now fit the model using the <code><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa()</a></code> function from
<code>lavaan</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model</span>, data <span class="op">=</span> <span class="va">HolzingerSwineford1939</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="monte-carlo-confidence-intervals">Monte Carlo Confidence Intervals<a class="anchor" aria-label="anchor" href="#monte-carlo-confidence-intervals"></a>
</h3>
<p>The <code>fit</code> <code>lavaan</code> object can then be passed to
the <code><a href="../reference/MC.html">MC()</a></code> function to generate Monte Carlo confidence
intervals.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/MC.html">MC</a></span><span class="op">(</span><span class="va">fit</span>, R <span class="op">=</span> <span class="fl">20000L</span>, alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="co">#&gt; Monte Carlo Confidence Intervals</span></span>
<span><span class="co">#&gt;               est     se     R   2.5%  97.5%</span></span>
<span><span class="co">#&gt; eta1~~eta1 1.0000 0.0000 20000 1.0000 1.0000</span></span>
<span><span class="co">#&gt; eta2~~eta2 1.0000 0.0000 20000 1.0000 1.0000</span></span>
<span><span class="co">#&gt; eta3~~eta3 1.0000 0.0000 20000 1.0000 1.0000</span></span>
<span><span class="co">#&gt; l11        0.8996 0.0806 20000 0.7391 1.0567</span></span>
<span><span class="co">#&gt; l12        0.4979 0.0770 20000 0.3474 0.6500</span></span>
<span><span class="co">#&gt; l13        0.6562 0.0745 20000 0.5089 0.8028</span></span>
<span><span class="co">#&gt; l24        0.9897 0.0566 20000 0.8785 1.1000</span></span>
<span><span class="co">#&gt; l25        1.1016 0.0627 20000 0.9801 1.2255</span></span>
<span><span class="co">#&gt; l26        0.9166 0.0533 20000 0.8110 1.0207</span></span>
<span><span class="co">#&gt; l37        0.6195 0.0693 20000 0.4844 0.7561</span></span>
<span><span class="co">#&gt; l38        0.7309 0.0654 20000 0.6026 0.8591</span></span>
<span><span class="co">#&gt; l39        0.6700 0.0655 20000 0.5426 0.7989</span></span>
<span><span class="co">#&gt; t1         0.5491 0.1140 20000 0.3264 0.7749</span></span>
<span><span class="co">#&gt; t2         1.1338 0.1032 20000 0.9323 1.3370</span></span>
<span><span class="co">#&gt; t3         0.8443 0.0916 20000 0.6643 1.0245</span></span>
<span><span class="co">#&gt; t4         0.3712 0.0477 20000 0.2783 0.4654</span></span>
<span><span class="co">#&gt; t5         0.4463 0.0592 20000 0.3310 0.5617</span></span>
<span><span class="co">#&gt; t6         0.3562 0.0430 20000 0.2726 0.4411</span></span>
<span><span class="co">#&gt; t7         0.7994 0.0816 20000 0.6413 0.9562</span></span>
<span><span class="co">#&gt; t8         0.4877 0.0737 20000 0.3427 0.6317</span></span>
<span><span class="co">#&gt; t9         0.5661 0.0708 20000 0.4253 0.7034</span></span>
<span><span class="co">#&gt; eta1~~eta2 0.4585 0.0640 20000 0.3347 0.5861</span></span>
<span><span class="co">#&gt; eta1~~eta3 0.4705 0.0727 20000 0.3282 0.6132</span></span>
<span><span class="co">#&gt; eta2~~eta3 0.2830 0.0688 20000 0.1480 0.4182</span></span>
<span><span class="co">#&gt; omega1     0.6253 0.0363 20000 0.5488 0.6910</span></span>
<span><span class="co">#&gt; omega2     0.8852 0.0116 20000 0.8599 0.9058</span></span>
<span><span class="co">#&gt; omega3     0.6878 0.0312 20000 0.6215 0.7436</span></span></code></pre></div>
</div>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-Pesigan-Cheung-2023" class="csl-entry">
Pesigan, I. J. A., &amp; Cheung, S. F. (2023). <span>Monte Carlo</span>
confidence intervals for the indirect effect with missing data.
<em>Behavior Research Methods</em>, <em>56</em>(3), 1678–1696. <a href="https://doi.org/10.3758/s13428-023-02114-4" class="external-link">https://doi.org/10.3758/s13428-023-02114-4</a>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ivan Jacob Agaloos Pesigan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
